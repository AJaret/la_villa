---
import { Image } from "astro:assets";
import BeachLogo from "../images/logos/la_villa_beach_logo.svg";
---

<section class="p-10 mt-20">
    <div class="container mx-auto sm:px-8">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div class="flex items-center justify-center" id="located">
                <p class="text-left text-base sm:text-lg md:text-xl lg:text-2xl xl:text-3xl">Located on the beautiful coast of Colima, La Villa in Cuyutlán offers you a unique beachfront experience.</p>
            </div>
            <div class="flex items-center justify-center max-w-full mx-auto mt-7 sm:pt-0">
                <Image src={BeachLogo} alt="La villa beach logo" class="w-full" />
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('scroll', () => {
        const located:Element = (document.querySelector('#located') as Element);
        if (isInViewport((located)) && !(located as Element).classList.contains('show')) {
            (located as Element).classList.add('show');
        }
    });

    function isInViewport(element:Element) {
        const rect = element.getBoundingClientRect();
        return (
            rect.top >= 0 &&
            rect.left >= 0 &&
            rect.bottom <= (window.innerHeight + 120 || document.documentElement.clientHeight) &&
            rect.right <= (window.innerWidth + 120 || document.documentElement.clientWidth)
        );
    }

    document.addEventListener('DOMContentLoaded', () => {
        const lang = document.cookie.split('; ').find(row => row.startsWith('lang'))!.split('=')[1];
        const translations: { [key: string]: { [key: string]: string } } = {
            es: {
                located: 'Ubicada en la hermosa costa de Colima, La Villa en Cuyutlán te ofrece una experiencia única frente a la playa.',
            },
            en: {
                located: 'Located on the beautiful coast of Colima, La Villa in Cuyutlán offers you a unique beachfront experience.',
            }
        };

        document.querySelector('#located p')!.textContent = translations[lang].located;
    });
</script>

<style>
    section{
        background-color: #FFF6DD;
        color: #123940;
        font-family: 'Cinzel';
        font-weight: normal;
    }
</style>
